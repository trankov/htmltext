# htmltext

Быстрый и минималистичный Python-модуль на C для извлечения текста из HTML.

## Пример

```python
import htmltext
text = htmltext.text_from_html('<p>Привет <b>мир</b>!</p>')
print(text)
# Привет мир!
```

## Детали

- Текст извлекается из тегов `div`, `p`, `br`, `section`, `article`, `header`, `footer`, `ul`, `ol`, `li`, `table`, `tr`, `td`, `h1`, `h2`, `h3`, `h4`, `h5`, `h6`
- Все отступы слева и пробелы справа удаляются
- Все остальные теги и их содержимое удаляется
- Один перевод строки остаётся как есть. Любое количество переводов строки больше одного заменяется двумя (одна пустая строка).

## Зачем

При отправке писем используется как текстовое, так и HTML-содержимое. В наши дни уместен подход HTML-first. Текстовое содержимое включается в тело письма автоматически, для того небольшого процента получателей, которые могут читать только текст.

Исторически это был Python-код для проекта на Django, с использованием регулярных выражений, который извлекал текст из сгенерированного шаблонизатором HTML.

Когда писем стало много, процедура потребовала ускорения.

## Лицензия

Zero limits license.
